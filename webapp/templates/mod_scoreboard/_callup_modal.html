{%- import "components/modals.html" as modals -%}
{%- import "components/buttons.html" as buttons -%}
{%- import "components/match.html" as match -%}

{% call modals.Modal(id="callup-modal", centered=True) %}
    {% call modals.ModalContainer() %}
        {{ modals.ModalHeader(text="Für " ~  g.mat.title ~ " aufrufen") }}

        {% call modals.ModalBody() %}
            <p class="fw-bold fs-4">Jetzt kämpfen: <span data-tatami-field="current.group">Gruppe</span> &middot; <span data-tatami-field="current.progress">Fortschritt</span></p>
        
            {% call match.Match(slim=False, large=True) %}
                {{ match.MatchSchedule(no="-", status="running", label="jetzt") }}

                {% call match.MatchBody() %}
                    <div class="match-lineup">
                        <div class="match-lineup-white">
                            <div class="match-fighter" data-tatami-field="current.white.name">Name</div>
                            <div class="match-association" data-tatami-field="current.white.club">Verein</div>
                        </div>
                        <div class="match-lineup-blue">
                            <div class="match-fighter" data-tatami-field="current.blue.name">Name</div>
                            <div class="match-association" data-tatami-field="current.blue.club">Verein</div>
                        </div>
                    </div>
                {% endcall %}
            {% endcall %}
            
            <button class="repeated-call-btn" type="button" data-tatami-repeated-call>60</button>
        {% endcall %}

        {% call modals.ModalBody() %}
            <div class="callup-next-has">
                <p class="fw-bold fs-5">Es bereiten sich vor: <span data-tatami-field="waiting.group">Gruppe</span> &middot; <span data-tatami-field="waiting.progress">Fortschritt</span></p>
                
                {% call match.Match() %}
                    {{ match.MatchSchedule(no="-", status="pending") }}

                    {% call match.MatchBody() %}
                        <div class="match-lineup">
                            <div class="match-lineup-white">
                                <div class="match-fighter" data-tatami-field="waiting.white.name">Name</div>
                                <div class="match-association" data-tatami-field="waiting.white.club">Verein</div>
                            </div>
                            <div class="match-lineup-blue">
                                <div class="match-fighter" data-tatami-field="waiting.blue.name">Name</div>
                                <div class="match-association" data-tatami-field="waiting.blue.club">Verein</div>
                            </div>
                        </div>
                    {% endcall %}
                {% endcall %}
            </div>
            <div class="callup-next-hasnot hidden">
                <p>Zurzeit kein Kampf zur Vorbereitung angesetzt.</p>
            </div>
        {% endcall %}

        {% call modals.ModalFooter() %}
            {{ buttons.PrimaryButton(text="OK", class="w-100", attr="data-tatami-end-callup") }}
        {% endcall %}

    {% endcall %}
{% endcall %}